Измерение расстояния до объекта с помощью ультразвукового датчика HC-SR04 и отображение измеренного расстояния в сантиметрах на семи сегментном дисплее.
=====================
Принцип работы:
1) Для вывода HC-SR04 из режима ожидания, с помощью кнопки I_EN подается стартовый импульс O_TRIG на пин датчика Trig (положительный импульс длительностью более 10 uS, в данном случае 58.82 uS);
2) Датчик генерирует 8 импульсов меандра с периодом 25 uS (что соответствует частоте 40 КHz) на ультразвуковой передатчик;
3) По спаду последнего сгенерированного импульса, датчик устанавливает уровень логической «1» на пине Echo (I_ECHO).
Одновременно, HC-SR04 ждет получение отраженной ультразвуковой волны той же частоты на ультразвуковой приёмник;
4) После получения последнего импульса отраженной волны, датчик переходит в режим ожидания, устанавливая уровень логического «0» на выходе Echo.
Аналогичные действия будут совершены, если в течении 38 mS датчик не примет отраженную ультразвуковую волну.
В результате время наличия логической «1» на выходе Echo равно времени прохождения ультразвуковой волны от датчика до препятствия и обратно.

Максимальная частота опроса датчика ***F = 16.7 Hz***
![Image alt](https://github.com/MrNextor/HC-SR04/blob/main/doc/measured_distance.jpg)

Расстояние вычисляется умножением скорости на время (в данном случае скорости звуковой волны, на время ожидания эха).
Но так как звуковая волна проходит расстояние до объекта и обратно, а нам нужно только до объекта, то результат делим на 2:  
***L = V * Echo / 2*** **(1)**:  
где ***V*** скорость звука в воздухе, ≈ 340 M/S;  
***Echo*** - время ожидания эха, с.  
Для того, чтобы рассчитать ***L*** с точностью до см, преобразуем уравнение **(1)** подставив вместо ***L*** расстояние 1 см:  
***Echo = 2 * L / V = 2 * 1см / 340 M/S = 58,823 uS.***  
Таким образом, звуковая волна проходит 1 см расстояния за ≈ 58,82 uS.

Для расчета расстояния в см. до объекта написан модуль clk_div.v.
Принцип модуля основан на том, что его выходной clock enable (O_ST), имеет частоту ***F = 17.001 KHz***.
Учитывая тот факт, что наш clock enable имеет период 58,82 uS, то с помощью счетчика в модуле hc_sr04_fsm.v будем просто считать количество clock пока сигнал I_ECHO активен.
Значение счетчика и будет являться расстоянием до объекта с точностью ± 1 см.